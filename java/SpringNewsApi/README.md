# SpringNewsApi

Этот проект демонстрирует разработку веб-приложения с использованием Spring Framework для управления новостной лентой и категориями новостей.

## Описание проекта

Приложение предоставляет API для управления новостной лентой и категориями новостей.  Оно позволяет создавать, получать, обновлять и удалять новости, а также классифицировать их по категориям. Проект демонстрирует использование Spring Boot, Spring JPA, Liquibase и PostgreSQL.

## Функциональность

*   **Управление новостями:**
    *   Создание, получение, обновление и удаление новостей.
    *   Получение одной новости по ID.
    *   Получение списка всех новостей.
*   **Категории новостей:**
    *   Создание, получение, обновление и удаление категорий.
    *   Каждая новость принадлежит к одной категории.
*   **Хранение данных:**
    *   Хранение данных в базе данных PostgreSQL.
*   **Управление версиями базы данных:**
    *   Использование Liquibase для создания и обновления таблиц в базе данных.

## Используемые технологии

*   Java
*   Spring Boot
*   Spring Web
*   Spring Data JPA
*   PostgreSQL
*   Liquibase
*   Lombok

## Инструкции по установке и запуску

1.  **Предварительные требования:**
    *   Установленная Java Development Kit (JDK).
    *   Установленный Apache Maven.
    *   Установленный Docker (для запуска PostgreSQL).

2.  **Клонируйте репозиторий:**

3.  **Запустите Docker-контейнер с PostgreSQL:**

    Запустите контейнер PostgreSQL, используя Docker Compose или Docker CLI (пример команды):

    ```bash
    docker run --name postgres -p 5433:5432 -e POSTGRES_USER=skillbox -e POSTGRES_PASSWORD=skillbox -d postgres -p 5433:5432
    ```

    ***Важно!*** *Обратите внимание, что порт PostgreSQL должен быть 5433, как указано в `application.properties`.*

4.  **Запустите приложение:**

    Используйте Maven для сборки и запуска приложения.

***Если вы используете другой порт, имя пользователя или пароль для PostgreSQL, вам необходимо изменить соответствующие значения в файле `src/main/resources/application.properties`.*

## API Endpoints

### Новости

*   **`GET /api/news/{id}`:** Получение одной новости по ID.
    *   **Параметры:**
        *   `id` (Long): Уникальный идентификатор новости.
    *   **Ответ:**
        *   `200 OK`: Объект `News` в формате JSON.
        *   `404 Not Found`: Если новость с указанным ID не найдена.
*   **`GET /api/news`:** Получение списка всех новостей.
    *   **Ответ:**
        *   `200 OK`: Массив объектов `News` в формате JSON.
*   **`POST /api/news`:** Создание новой новости.
    *   **Запрос:** Объект `News` в формате JSON (с полями `title`, `text`, `date`).
    *   **Ответ:**
        *   `201 Created`: Объект `News` в формате JSON с информацией о созданной новости.
*   **`PUT /api/news`:** Обновление существующей новости.
    *   **Запрос:** Объект `News` в формате JSON (с полями `id`, `title`, `text`, `date`).
    *   **Ответ:**
        *   `200 OK`: Объект `News` в формате JSON с информацией об обновленной новости.
*   **`DELETE /api/news/{id}`:** Удаление новости по ID.
    *   **Параметры:**
        *   `id` (Long): Уникальный идентификатор новости.
    *   **Ответ:**
        *   `204 No Content`: В случае успешного удаления.
        *   `404 Not Found`: Если новость с указанным ID не найдена.

### Категории

*   **`GET /api/categories/{id}`:** Получение информации о категории по ID.
    *   **Параметры:**
        *   `id` (Long): Уникальный идентификатор категории.
    *   **Ответ:**
        *   `200 OK`: Объект `Category` в формате JSON. 
        *   `404 Not Found`: Если категория с указанным ID не найдена. 
*   **`GET /api/categories`:** Получение списка всех категорий.
    *   **Ответ:**
        *   `200 OK`: Массив объектов `Category` в формате JSON. 
*   **`POST /api/categories`:** Создание новой категории.
    *   **Запрос:** Объект `Category` в формате JSON (с полем `title`).  
    *   **Ответ:**
        *   `201 Created`: Объект `Category` в формате JSON с информацией о созданной категории. 

## Liquibase

Для создания и обновления таблиц в базе данных используются файлы миграции Liquibase.  Файлы миграции находятся в каталоге `src/main/resources/db/changelog`.  Используется SQL синтаксис для миграций.  При запуске приложения Spring Boot автоматически применяет миграции Liquibase к базе данных.


## Автор

Вянцкус Фёдор
