# DataCollector

Этот проект демонстрирует сбор и обработку данных из различных источников: веб-страницы, JSON-файлов и CSV-файлов. Затем он объединяет эти данные и генерирует два JSON-файла в определенных форматах.

## Описание проекта

Приложение предназначено для извлечения данных из разных источников, включая веб-сайт, JSON-файлы в дереве каталогов и CSV-файлы в том же дереве каталогов. Извлеченные данные затем преобразуются и записываются в два JSON-файла в соответствии с определенными форматами: один со списком станций по линиям, а другой, содержащий подробные свойства каждой станции.

## Функциональность

*   **Парсинг веб-страницы:** Извлекает данные (линии и станции) со страницы «Список станций Московского метрополитена» с использованием Jsoup.
*   **Обход каталогов:** Рекурсивно обходит дерево каталогов для поиска JSON- и CSV-файлов.
*   **Парсинг JSON-файлов:** Разбирает JSON-файлы, найденные в дереве каталогов, и извлекает соответствующие данные.
*   **Парсинг CSV-файлов:** Разбирает CSV-файлы, найденные в дереве каталогов, и извлекает соответствующие данные.
*   **Агрегация данных:** Собирает и объединяет данные из всех источников в единую структуру данных.
*   **Генерация JSON-файлов:** Создает и записывает два JSON-файла на диск:
    *   JSON-файл со списком станций по линиям (аналогично формату `map.json` в проекте SPBMetro).
    *   JSON-файл под названием `stations.json`, содержащий свойства станций (название, линия, дата открытия, глубина, наличие пересадки).

## Используемые технологии

*   Java
*   Jsoup (HTML парсинг)
*   Jackson (JSON парсинг)
*   Lombok (генерация boilerplate-кода)

## Инструкции по установке и запуску

1.  **Клонируйте репозиторий:**

2.  **Получите файлы данных:**

    *   Разархивируйте архив, содержащий дерево каталогов с JSON- и CSV-файлами. Поместите извлеченный каталог в известное место.

3.  **Измените `Main.java` (при необходимости):**

    *   Настройте пути к дереву каталогов, содержащему JSON- и CSV-файлы.
    *   (При необходимости) Измените URL-адрес веб-страницы «Список станций Московского метрополитена».

4.  **Запустите приложение:**

    Используйте Maven для сборки и запуска приложения. Скомпилируйте и запустите файл `Main.java`. 

## Источники данных

Приложение собирает данные из следующих источников:

*   **Веб-страница:** «Список станций Московского метрополитена». Точный URL-адрес определен в коде.
*   **JSON-файлы:** JSON-файлы, расположенные в дереве каталогов (извлечены из предоставленного архива). *
*   **CSV-файлы:** CSV-файлы, расположенные в дереве каталогов (извлечены из предоставленного архива).*

## Выходные файлы

Приложение создает два JSON-файла в корневом каталоге проекта (или в указанном выходном каталоге). Структура JSON-файлов отличается от структуры источников данных:

*   **`map.json`:** Содержит список станций, сгруппированных по линиям.
*   **`stations.json`:** Содержит список всех станций с их свойствами:
    ```json
    {
        "stations": [
            {
                "name": "Название станции",
                "line": "Название линии",
                "date": "Дата открытия в формате 19.01.2005",
                "depth": "Глубина станции в виде числа",
                "hasConnection": "Есть ли на станции переход"
            },
            ...
        ]
    }
    ```

## Автор

Вянцкус Фёдор
