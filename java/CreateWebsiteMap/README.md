# CreateWebsiteMap

Этот проект демонстрирует использование `ForkJoinPool` для рекурсивного построения карты веб-сайта (списка ссылок) в многопоточном режиме и записи ее в файл.

## Описание проекта

Приложение обходит заданный веб-сайт и извлекает все ссылки на другие страницы в пределах того же домена. Полученная карта веб-сайта записывается в файл, при этом дочерние ссылки сдвигаются на одну табуляцию вправо относительно родительских ссылок. Приложение спроектировано для эффективной работы за счет использования `ForkJoinPool` для распараллеливания процесса обхода.

## Функциональность

*   **Многопоточный обход веб-сайта:** Использует `ForkJoinPool` для рекурсивного обхода веб-сайта и извлечения всех ссылок.
*   **Ограничение доменом:** Включаются только ссылки на страницы в пределах того же домена, что и начальный URL.
*   **Исключение внутренних элементов:** Исключаются ссылки на внутренние элементы страниц (содержащие `#` после адреса).
*   **Вежливый обход:** Делает паузы между запросами страниц с использованием `Thread.sleep()`, чтобы не перегружать сервер веб-сайта.
*   **Обнаружение циклов:** Предотвращает бесконечные циклы, отслеживая посещенные ссылки.
*   **Вывод в файл:** Записывает карту веб-сайта в файл с иерархическим отступом на основе структуры ссылок.

## Используемые технологии

*   Java
*   `ForkJoinPool`
*   Jsoup

## Инструкции по установке и запуску

1.  **Клонируйте репозиторий:**

2.  **Измените `Main.java` (Необязательно):**

    *   Отредактируйте переменную `startUrl`, чтобы указать веб-сайт, который вы хотите обойти. По умолчанию установлено значение `https://albagym.ru/`. Вы можете переключаться между `https://albagym.ru/` и `https://skillbox.ru/`, комментируя/раскомментируя нужную строку.
    *   Измените переменную `outputFilePath`, чтобы указать желаемый путь к выходному файлу. По умолчанию установлено значение `data/website_map.txt`. Убедитесь, что каталог `data` существует (создайте его, если его нет).

    ```java
    // String startUrl = "https://skillbox.ru/";
    String startUrl = "https://albagym.ru/";
    String outputFilePath = "data/website_map.txt";
    ```

3.  **Запустите приложение:**

    Скомпилируйте и запустите файл `Main.java`. 

## Выходные файлы

Приложение создает файлы в каталоге `data`:

*   `website_map___albagym.ru`: Карта веб-сайта для albagym.ru.
*   `website_map___skillbox.ru`: Карта веб-сайта для skillbox.ru.
*   Общий файл `data/website_map.txt` будет содержать результаты последнего запуска.

## Важные замечания

*   **Блокировка веб-сайтом:** Это приложение отправляет запросы к веб-сайту. Будьте уважительны к ресурсам веб-сайта. Код включает задержку между запросами, но вам следует следить за поведением приложения и при необходимости регулировать задержку. Чрезмерные запросы могут привести к блокировке вашего IP-адреса.
*   **Структура графа и циклы:** Веб-сайты имеют структуру графа, что означает, что страницы могут ссылаться обратно на ранее посещенные страницы. Код предотвращает бесконечные циклы, отслеживая посещенные ссылки.


## Автор

Вянцкус Фёдор
